\documentclass{scutmaster}

\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{xcolor}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\TODO}[1]{\textcolor{red}{TODO: #1}}

\title{基于可微分渲染的人脸3D重建}
\titleEN{Face 3D Reconstruction Based on Differentiable Rendering}
\classificationnumber{TP37}

\author{胡玮文}
\authorEN{Weiwen Hu}
\studentnumber{202045611}
\phone{17701952145}
\email{sehuww@mail.scut.edu.cn}
\address{江西省南昌市青山湖区江大南路139号荣昌小区16栋（330029）}

\degree{工学硕士}
\major{软件工程}{数字人}

\supervisor{杜卿}{副教授}
\supervisorEN{Assoc. Prof.}{Qing Du}

\school{软件学院}

\begin{document}

\maketitle
\maketitleEN
\nominationpage
\declareoforiginality

\frontmatter
\chapter{摘要}

你好，世界！

\keyword{关键词} 可微分渲染

\chapter{Abstract}

Hello, world!

\keyword{Keywords} Differentiable rendering

\tableofcontents

\listoffigures

\mainmatter
\include{intro.tex}

\include{related_work.tex}

\chapter{适应未知背景的可微分渲染方法}
\label{chap:method}

\section{问题定义}

可微分渲染旨在从参数化的3D模型，如三角形面片，纹理贴图等，渲染得到2D图片，同时计算该渲染结果关于其输入参数的梯度，以期利用基于梯度的方法优化输入参数，从而改善渲染效果。

然而现有方法存在一些不足：现有可微分渲染技术大多是对整张图片估计梯度，即不区分前景和背景部分。然而，在基于自然环境照片的人脸重建任务中，我们通常只有前景（即人脸）的3D模型，而没有背景的模型。若只使用人脸模型拟合整张图片则无法得到合理的结果，在缺乏关于照片背景的先验知识时也难以对照片背景进行显式建模。

\section{本文方法}

收缩\&扩展约束（创新点）

\section{实验结果}

\section{讨论}

\chapter{基于单张自然环境照片的人脸重建}
\label{chap:recon}

\section{总体目标}

\section{基于神经网络回归的模型初始化}

\section{照片到纹理空间信息迁移}

\section{基于可微分渲染的3D重建}

\section{实验结果}

\section{局限性}

\chapter{多视角人脸重建实验平台}
\label{chap:platform}

\section{总体目标}

输入多个相机在（几乎）同一时刻拍摄的肖像照片。相机的参数和环境光照可以提前标定。本文的目标是静态模型重建，因此无须考虑采集连续动态图像的问题。通过以很小的间隔（数毫秒）触发多盏闪光灯，也能在单次采集中获得不同照明条件的数据。

输出被拍摄对象尽可能精确的3D模型，并能支持任意视角，任意光照条件下重新渲染。

本文的贡献主要在于采集系统的搭建方案，以及结合我们特定情况的算法复现和改进。

\section{相机固定}

铝型材支架设计

\section{被动相机同步}
\label{sec:passive_sync}

该装置无须独立供电。它能以很高的精度同时触发多台相机的对焦和快门，从而实现人脸多视角数据的捕获。

\paragraph{相机快门触发原理}

\paragraph{被动同步装置设计}

\paragraph{同步精度测试}

\include{calib.tex}

\section{基于反射球的光源标定和HDRI合成}

\section{主动相机/闪光灯同步}

主动相机同步装置有单片机等实时控制系统控制，能独立控制每台相机、闪光灯触发延迟，最多24个通道。可用于快速抓拍不同闪光灯照明下的照片

\paragraph{主动同步装置硬件设计}

\paragraph{主动同步装置软件设计}

\paragraph{滚动快门原理}

\paragraph{闪光灯触发延迟快速标定方法}

\section{照片拍摄和整理流程}

\paragraph{同步装置连接与设定}

\paragraph{拍摄采集对象}

\paragraph{相机、光源标定数据采集}

\paragraph{照片拷贝和整理}

\section{初步验证}

作为该实验平台实用性的初步验证，本文利用该平台采集的数据使用传统的计算机视觉方法尝试重建人脸模型。

本文首先使用Colmap完成人脸的稀疏以及稠密点云重建。\TODO{参数调整}

然后，本文使用FlameFitting工具，将FLAME 3D模型配准到稠密点云上，得到初步的人脸几何形状。

然而，该配准的效果并不理想。因此本文使用Blender同时导入点云和几何形状，并手动调整模型顶点位置以完成更精确的配准。

最后，本文通过Unwrap方法，将照片映射到UV空间，每个视角获得一张纹理贴图，再将这些纹理贴图通过以下方式进行融合，最终获得一个带纹理的3D人脸模型。

\TODO{融合方式公式}

\TODO{结果图}

\section{后续工作}

然而，这种方法仅仅是对该平台采集的数据的初步利用，仅发挥了该平台的一小部分价值。
该平台的设计目标是用于运行可微分渲染算法，后续的研究者们将能利用该平台开展诸多基于可微分渲染的研究，例如：
\begin{itemize}
\item 在传统计算机视觉重建的几何形状的基础上，利用可微分渲染算法，实现符合基于物理的渲染(PBR)流程的人脸材质，包括粗糙度、次表面散射等参数。
\item 利用所采集到的HDRI光源信息，基于分离求和近似(split sum approximation)的可微分光栅化渲染算法，直接端到端地同时估计人脸的几何结构和材质。
\item 利用光线追踪方法，进一步考虑全局光照，以估计更加准确的材质。
\item 将本系统所使用的消费级微单相机更换为工业相机，以实现视频帧同步，可将该实验平台扩展为采集人脸动态表情数据。
\end{itemize}

\chapter{结论与展望}
\label{chap:conclusion}

\backmatter
\bibliography{main}

\chapter{致谢}

\end{document}
